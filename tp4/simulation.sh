#!/bin/bash

# Number of cycles is obtained manually by first running the simulation
 
# C
# ./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8

# D
D_FLAGS="-IWORDS 8  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8"
./simul.x -ISETS 256 -IWORDS 8  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 50 -NCYCLES   85956 > ./Stats/D/simul_1.txt 
./simul.x -ISETS  64 -IWORDS 8  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 50 -NCYCLES  106270 > ./Stats/D/simul_2.txt
./simul.x -ISETS  16 -IWORDS 8  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 50 -NCYCLES  152943 > ./Stats/D/simul_3.txt
./simul.x -ISETS   4 -IWORDS 8  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 50 -NCYCLES  166455 > ./Stats/D/simul_4.txt
./simul.x -ISETS   1 -IWORDS 8  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 50 -NCYCLES  234079 > ./Stats/D/simul_5.txt

# E
E_FLAGS="-IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8"
./simul.x -ISETS 256 -IWORDS 1  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 100 -NCYCLES 193355 > ./Stats/E/simul_1.txt 
./simul.x -ISETS 128 -IWORDS 2  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 100 -NCYCLES 148381 > ./Stats/E/simul_2.txt
./simul.x -ISETS  64 -IWORDS 4  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 100 -NCYCLES 130274 > ./Stats/E/simul_3.txt
./simul.x -ISETS  32 -IWORDS 8  -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 100 -NCYCLES 124855 > ./Stats/E/simul_4.txt
./simul.x -ISETS  16 -IWORDS 16 -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 100 -NCYCLES 129468 > ./Stats/E/simul_5.txt
./simul.x -ISETS   8 -IWORDS 32 -IWAYS 1 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 100 -NCYCLES 149237 > ./Stats/E/simul_6.txt

# F
F_FLAGS="-ISETS 256 -IWORDS 16 -IWAYS 4 -DWORDS 8 -DWAYS 1 -WBUF 8"
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS 8 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES   74553 > ./Stats/F/simul_1.txt 
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS  64 -DWORDS 8 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES   74638 > ./Stats/F/simul_2.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS  16 -DWORDS 8 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES   94444 > ./Stats/F/simul_3.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS   4 -DWORDS 8 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES  144880 > ./Stats/F/simul_4.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS   1 -DWORDS 8 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES  218474 > ./Stats/F/simul_5.txt

# F2
F2_FLAGS="-ISETS 256 -IWORDS 16 -IWAYS 4 -DWAYS 1 -WBUF 8"
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS  1 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES  75580 > ./Stats/F2/simul_1.txt 
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 128 -DWORDS  2 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES  75338 > ./Stats/F2/simul_2.txt 
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS  64 -DWORDS  4 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES  75528 > ./Stats/F2/simul_3.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS  32 -DWORDS  8 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES  80741 > ./Stats/F2/simul_4.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS  16 -DWORDS 16 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES  95619 > ./Stats/F2/simul_5.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS   8 -DWORDS 32 -DWAYS 1 -WBUF 8 -STATS 100 -NCYCLES 113404 > ./Stats/F2/simul_6.txt

# G
F2_FLAGS="-ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8"
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 8 -STATS 100 -NCYCLES  74502 > ./Stats/G/simul_1.txt 
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 4 -STATS 100 -NCYCLES  74502 > ./Stats/G/simul_2.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 2 -STATS 100 -NCYCLES  74502 > ./Stats/G/simul_3.txt
./simul.x -ISETS 256 -IWORDS 16 -IWAYS 4 -DSETS 256 -DWORDS 16 -DWAYS 4 -WBUF 1 -STATS 100 -NCYCLES  74502 > ./Stats/G/simul_4.txt